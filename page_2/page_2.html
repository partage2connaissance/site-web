<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title id="pageTitle">Affichage des titres depuis une base de données JSON</title>
</head>
<body>

<h1 id="matiereTitle">Titre de la Matière</h1>

<div id="categoriesList"></div>

<script>
// Fonction pour charger et afficher les titres depuis la base de données JSON
function loadTitles() {
    const urlParams = new URLSearchParams(window.location.search);
    const matiere = urlParams.get('matiere');
    const pageTitle = urlParams.get('pageTitle'); // Récupérer le titre de la page depuis l'URL
    document.getElementById('pageTitle').textContent = pageTitle; // Modifier le titre de la page

    document.getElementById('matiereTitle').textContent = matiere;

    // Charger la base de données JSON
    fetch('bdd.json')
    .then(response => response.json())
    .then(data => {
        // Organiser les éléments par catégorie
        const categories = {
            'Cours': [],
            'Partiel': [],
            'TD': [],
            'Complément': []
        };

        // Remplir les catégories avec les éléments correspondants
        data.forEach(item => {
            categories[item.categorie].push(item.title);
        });

        // Afficher les catégories et les titres dans le document HTML
        const categoriesList = document.getElementById('categoriesList');
        Object.entries(categories).forEach(([category, titles]) => {
            // Ajouter un titre pour la catégorie
            const categoryTitle = document.createElement('h2');
            categoryTitle.textContent = category;
            categoriesList.appendChild(categoryTitle);

            // Ajouter les titres de la catégorie dans une liste
            const titlesList = document.createElement('ul');
            titles.forEach(title => {
                const listItem = document.createElement('li');
                listItem.textContent = title;
                titlesList.appendChild(listItem);
            });
            categoriesList.appendChild(titlesList);
        });
    })
    .catch(error => {
        console.error('Erreur lors du chargement des données JSON :', error);
    });
}

// Appeler la fonction pour charger et afficher les titres au chargement de la page
document.addEventListener('DOMContentLoaded', loadTitles);
</script>

</body>
</html>